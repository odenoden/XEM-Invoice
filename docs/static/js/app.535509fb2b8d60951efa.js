webpackJsonp([1],{123:function(e,t,a){"use strict";function s(e){return l()+"/account/transfers/all?address="+e}function r(e){return l()+"/account/unconfirmedTransactions?address="+e}function n(e,t,a,s){for(var r=t.data.data.length,n=0;n<r;n++){var o=t.data.data[n].transaction,l=t.data.data[n].meta,d=i(o.timeStamp),u="",m=0,v="",p="",h=0,f="";if(4100==o.type&&(o=o.otherTrans),257==o.type||8193==o.type){var A=!1;o.mosaics&&o.mosaics.forEach(function(e){A=!0;var t=e;"xem"==t.mosaicId.name&&"nem"==t.mosaicId.namespaceId&&(h=t.quantity)}),A||(h=8193==o.type?o.rentalFee:o.amount),a!=o.recipient?(u="出金",m="- "+((h+o.fee)/c).toFixed(6),p="text-danger"):(u="入金",m="+ "+(h/c).toFixed(6),p="text-success"),s?f="table-warning":v="http://explorer.nemchina.com/#/s_tx?hash="+l.hash.data,e.push({timeStamp:d,type:u,amount:m,url:v,color:p,unconfirmed:s,bgcolor:f})}}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountTransfersURL=s,t.getUnconfirmedTransactionURL=r,t.setDashbordList=n;var o=Array("https://aqualife2.supernode.me","https://aqualife3.supernode.me","https://happy.supernode.me","https://mnbhsgwbeta.supernode.me","https://nsm.supernode.me","https://kohkei.supernode.me","https://mttsukuba.supernode.me","https://strategic-trader-1.supernode.me","https://strategic-trader-2.supernode.me","https://shibuya.supernode.me","https://qora01.supernode.me","https://pegatennnag.supernode.me"),c=1e6,i=function(e){var t=Date.UTC(2015,2,29,0,6,25,0);return new Date(t+1e3*e).toLocaleString()},l=function(){return o[Math.floor(Math.random()*o.length)]+":7891"}},124:function(e,t,a){"use strict";function s(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),r=e.getHours(),n=e.getMinutes(),o=e.getSeconds();return t+"/"+a+"/"+s+" "+r+":"+("00"+n).slice(-2)+":"+("00"+o).slice(-2)}Object.defineProperty(t,"__esModule",{value:!0}),t.getNowDateTime=s},125:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"invoice"},[a("main",{staticClass:"container",attrs:{role:"main"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card border-secondary mb-3"},[e._m(0),e._v(" "),a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.putXemQrcode(t)}}},[a("div",{staticClass:"form-group"},[a("label",[e._v("入金先")]),a("span",{staticClass:"help-block"},[e._v("（半角英数で40文字 ハイフンなし）")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nemAddress,expression:"nemAddress"}],staticClass:"form-control",attrs:{type:"text",placeholder:"(必須)NEMのアドレスを入力して下さい",pattern:"^[0-9-A-Z]{40}",required:""},domProps:{value:e.nemAddress},on:{input:function(t){t.target.composing||(e.nemAddress=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",[e._v("メッセージ")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.tranMessage,expression:"tranMessage"}],staticClass:"form-control",attrs:{type:"text",placeholder:"(任意)入金時のメッセージを入力して下さい"},domProps:{value:e.tranMessage},on:{input:function(t){t.target.composing||(e.tranMessage=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[e._m(1),e._v(" "),a("div",{staticClass:"col col-sm-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.currencyType,expression:"currencyType"}],staticClass:"form-control form-control-sm",attrs:{lazy:""},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.currencyType=t.target.multiple?a:a[0]}}},e._l(e.currencyItems,function(t){return a("option",{domProps:{value:t.value}},[e._v("\n                        "+e._s(t.text)+"\n                      ")])}))])]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.priceFiat,expression:"priceFiat"}],staticClass:"form-control",attrs:{type:"number",placeholder:"(必須)日本円価格を入力して下さい",required:""},domProps:{value:e.priceFiat},on:{input:function(t){t.target.composing||(e.priceFiat=t.target.value)}}})]),e._v(" "),a("button",{staticClass:"btn btn-primary mb-2",attrs:{type:"submit"}},[e._v("請求書を作成")])])])])]),e._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card border-secondary mb-3"},[a("div",[a("h5",{staticClass:"card-header"},[e._v("\n              請求書\n              "),a("button",{staticClass:"btn btn-outline-primary btn-sm float-right",on:{click:e.updateInvoice}},[e._v("更新")])])]),e._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[e._v("\n               請求元\n              ")]),e._v(" "),a("div",{staticClass:"col-md-8"},[a("p",[e._v(e._s(e.nemAddress))])])]),e._v(" "),a("div",{class:e.invoiceAlertClass,attrs:{role:"alert"}},[e._v(e._s(e.invoiceMessage))]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[e._v("\n                現在のレート\n              ")]),e._v(" "),a("div",{staticClass:"col-md-8"},[a("p",[e._v(e._s(e.rateFiatToXem)+" "+e._s(e.currencyType)+" / XEM")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[e._v("\n                価格(XEM)\n              ")]),e._v(" "),a("div",{staticClass:"col-md-8"},[a("p",[e._v(e._s(e.priceXem)+" XEM")])])]),e._v(" "),e.qrcodeShow?a("div",{staticClass:"text-center"},[a("qriously",{attrs:{value:e.qrcodeText,size:200}})],1):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("p",[e._v(e._s(e.rateXemToBtc)+e._s(e.rateBtcToFiat))])])])])])]),e._v(" "),a("div",{staticClass:"card border-secondary mb-3"},[a("div",{staticClass:"card-header"},[a("h5",[e._v("\n          ダッシュボード\n          "),a("button",{staticClass:"btn btn-outline-primary btn-sm float-right",on:{click:e.getNemTransaction}},[e._v("更新")])])]),e._v(" "),a("div",{staticClass:"card-body m-0 p-2"},[a("div",{class:e.dashbordAlertClass,attrs:{role:"alert"}},[e._v(e._s(e.dashbordMessage))]),e._v(" "),a("table",{staticClass:"table table-hover table-bordered table-sm",staticStyle:{"max-width":"30em"}},[e._m(2),e._v(" "),a("tbody",e._l(e.dashbord,function(t){return a("tr",{class:t.bgcolor},[a("td",{staticStyle:{"max-width":"6em"}},[t.unconfirmed?a("div",{staticStyle:{"font-weight":"bold"}},[e._v("\n                    未承認\n                ")]):e._e(),e._v("\n                "+e._s(t.timeStamp)+"\n              ")]),e._v(" "),a("td",{staticClass:"text-right",class:t.color},[e._v("\n                "+e._s(t.amount)+"\n              ")]),e._v(" "),a("td",{staticClass:"text-center"},[a("a",{attrs:{href:t.url,target:"_blank"}},[a("button",{staticClass:"btn btn-primary btn-sm"},[e._v("詳細")])])])])}))])])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h5",{staticClass:"card-header"},[e._v("請求価格入力")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col col-sm-2"},[a("label",[e._v("価格")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",{staticClass:"thead-light text-center"},[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("日時")]),e._v(" "),a("th",{attrs:{scope:"col"}},[e._v("価格(XEM)")]),e._v(" "),a("th",{attrs:{scope:"col"}})])])}],n={render:s,staticRenderFns:r};t.a=n},28:function(e,t,a){"use strict";t.a={name:"app",data:function(){return{language:"日本語"}},created:function(){},updated:function(){localStorage.setItem("lastLanguage",this.language)}}},29:function(e,t,a){"use strict";var s=a(60),r=a.n(s),n=a(63),o=a.n(n),c=a(100),i=a.n(c),l=a(16),d=a(119),u=a.n(d),m=a(120),v=(a.n(m),a(123)),p=(a.n(v),a(124));a.n(p);l.default.use(u.a);t.a={name:"invoice",data:function(){return{priceFiat:0,priceXem:0,rateXemToBtc:0,rateBtcToFiat:0,rateFiatToXem:0,nemAddress:"",tranMessage:"",currencyType:"",qrcodeUrl:"",qrcodeText:"",qrcodeShow:!1,invoiceMessage:"",invoiceAlertClass:"",dashbordList:[],dashbordMessage:"",dashbordAlertClass:"",currencyItems:[{text:"JPY",value:"JPY"},{text:"USD",value:"USD"},{text:"EUR",value:"EUR"},{text:"KRW",value:"KRW"}]}},mounted:function(){this.nemAddress=localStorage.getItem("lastNemAddress"),this.currencyType=localStorage.getItem("lastCurrencyType"),null===this.currencyType&&(this.currencyType="JPY"),this.getRateXem(),""!=this.nemAddress&&null!=this.nemAddress&&this.getNemTransaction()},updated:function(){0!=this.rateXemToBtc&&0!=this.rateBtcToFiat&&(this.rateFiatToXem=Math.round(this.rateXemToBtc*this.rateBtcToFiat[this.currencyType].last*1e6)/1e6,this.priceXem=Math.round(this.priceFiat/this.rateFiatToXem*1e6)/1e6,this.qrcodeText='{"v":2,"type":2,"data":{"addr":"'+this.nemAddress+'","amount":'+1e6*this.priceXem+',"msg":"'+this.tranMessage+'"}}')},methods:{updateInvoice:function(){var e=this;return o()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getRateXem();case 2:case"end":return t.stop()}},t,e)}))()},putXemQrcode:function(){alert("請求書用のQRコードを出力します"),this.qrcodeShow=!0,localStorage.setItem("lastNemAddress",this.nemAddress),localStorage.setItem("lastCurrencyType",this.currencyType)},getRateXem:function(){var e=this;return o()(r.a.mark(function t(){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.rateFiatToXem=0,e.rateXemToBtc=0,e.rateBtcToFiat=0,e.priceXem=0,e.invoiceMessage="レート取得中・・・",e.invoiceAlertClass="alert alert-info",t.next=9,i.a.get("https://poloniex.com/public?command=returnTicker");case 9:return a=t.sent,e.rateXemToBtc=a.data.BTC_XEM.last,t.next=13,i.a.get("https://blockchain.info/ticker?cors=true");case 13:s=t.sent,e.rateBtcToFiat=s.data,e.invoiceMessage="最終取得時刻："+p.getNowDateTime(),e.invoiceAlertClass="alert alert-success",t.next=24;break;case 19:t.prev=19,t.t0=t.catch(0),e.invoiceMessage="取引所(poloniex)からレートを取得できませんでした。",e.invoiceAlertClass="alert alert-danger",console.error(t.t0);case 24:case"end":return t.stop()}},t,e,[[0,19]])}))()},getNemTransaction:function(){var e=this;return o()(r.a.mark(function t(){var a,s,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=[],e.dashbordMessage="トランザクション取得中・・・",e.dashbordAlertClass="alert alert-info",s=v.getUnconfirmedTransactionURL(e.nemAddress),t.next=7,i.a.get(s);case 7:return n=t.sent,e.dashbord=v.setDashbordList(a,n,e.nemAddress,!0),s=v.getAccountTransfersURL(e.nemAddress),t.next=12,i.a.get(s);case 12:n=t.sent,e.dashbordList=v.setDashbordList(a,n,e.nemAddress,!1),e.dashbordMessage="最終取得時刻："+p.getNowDateTime(),e.dashbordAlertClass="alert alert-success",t.next=22;break;case 18:t.prev=18,t.t0=t.catch(0),e.dashbordAlertClass="alert alert-danger","Request failed with status code 400"==t.t0.message?e.dashbordMessage="入金先が正しくありません":(e.dashbordMessage=t.t0,console.error(t.t0));case 22:case"end":return t.stop()}},t,e,[[0,18]])}))()}}}},48:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var r=a(16),n=s(r),o=a(51),c=s(o),i=a(56),l=s(i);n.default.config.productionTip=!1;new n.default({el:"#app",router:l.default,template:"<App/>",components:{App:c.default}})},51:function(e,t,a){"use strict";function s(e){a(52)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(28),n=a(54),o=a(27),c=s,i=o(r.a,n.a,!1,c,null,null);t.default=i.exports},52:function(e,t){},54:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-dark bg-dark"},[e._m(0),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.language,expression:"language"}],staticClass:"form-control form-control-sm",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.language=t.target.multiple?a:a[0]}}},[a("option",[e._v("日本語")])])])])]),e._v(" "),a("main",[a("router-view")],1)])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"navbar-brand",attrs:{href:""}},[s("img",{attrs:{src:a(55),alt:"XEM Invoice",align:"middle"}}),e._v("XEM Invoice")])}],n={render:s,staticRenderFns:r};t.a=n},55:function(e,t){e.exports="data:image/png;base64,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"},56:function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(16),n=s(r),o=a(57),c=s(o),i=a(58),l=s(i);n.default.use(c.default),t.default=new c.default({routes:[{path:"/",name:"Invoice",component:l.default}]})},58:function(e,t,a){"use strict";function s(e){a(59)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(29),n=a(125),o=a(27),c=s,i=o(r.a,n.a,!1,c,null,null);t.default=i.exports},59:function(e,t){}},[48]);
//# sourceMappingURL=app.535509fb2b8d60951efa.js.map